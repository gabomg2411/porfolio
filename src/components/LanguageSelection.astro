---
import ChevronIcon from "./icons/Chevron.astro";
import Mexico from "./icons/Mexico.astro";
import UnitedStates from "./icons/UnitedStates.astro";

// const route = getRouteFromUrl(Astro.url);
// const lang = getLangFromUrl(Astro.url);
// const translatePath = useTranslatedPath(lang);

// const currentLocaleData = LANGUAGES[lang];
// const otherLocales = Object.values(LANGUAGES).filter(
//   (locale) => locale.code !== lang,
// );

const lang = Astro.url.pathname;
---

<div class="relative inline-block text-left">
  <div
    class="group text-white rounded-md text-xs font-semibold bg-black/30 hover:bg-black/70 transition-all"
  >
    <button
      type="button"
      class="inline-flex justify-start items-center w-full gap-x-2 px-3 py-2"
      aria-expanded="true"
      aria-haspopup="true"
    >
      {lang == "/es" ? <Mexico /> : <UnitedStates />}
      {lang == "/es" ? "Es" : "En"}
      <ChevronIcon />
    </button>
    <ul
      class="group-hover:block group-hover:animate-fade-down group-hover:animate-duration-200 hidden pt-0.5 absolute w-full"
    >
      <li class="py-[2px]">
        <a
          class="rounded-md bg-black/30 hover:bg-black/70 whitespace-no-wrap inline-flex justify-start items-center w-full gap-x-2 px-3 py-2"
          href="/es"
        >
          <Mexico />
          Es
        </a>
      </li>
      <li class="py-[2px]">
        <a
          class="rounded-md bg-black/30 hover:bg-black/70 whitespace-no-wrap inline-flex justify-start items-center w-full gap-x-2 px-3 py-2"
          href="/"
        >
          <UnitedStates />
          En
        </a>
      </li>
    </ul>
  </div>
</div>
